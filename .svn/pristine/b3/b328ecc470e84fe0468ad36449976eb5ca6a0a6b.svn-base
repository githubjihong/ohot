<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<title>oHot Media</title>
<link rel="styleSheet" href="/css/media-live/media-live.css">
<link rel="styleSheet" href="/css/media-live/media-live-detail.css">
</head>
<body>
<!-- header.jsp 시작 -->
<%@ include file="../header.jsp" %>
<!-- 커뮤니티페이지 네비, 탭-->
<div class="border border-danger">
<header class="d-flex justify-content-center py-1">
<ul class="nav nav-pills nav-fill gap-c1">
   <li class="nav-item">
    <a class="nav-link" href="#">Fan</a>
  </li>
   <li class="nav-item">
    <a class="nav-link" href="#">Artist</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" aria-current="page" href="${pageContext.request.contextPath}/oho/community/media?artGroupNo=${param.artGroupNo}">Media</a>
  </li>
   <li class="nav-item">
    <a class="nav-link" href="${pageContext.request.contextPath}/oho/community/live?artGroupNo=${param.artGroupNo}">Live</a>
  </li>
    <li class="nav-item">
    <a class="nav-link" href="#">Shop</a>
  </li>
</ul>
</header>
</div>
<!--네비탭 끝 -->
<!-- 본문 영역  -->
<!-- 넘어오는 객체들 -->
<sec:authorize access="isAuthenticated()">
	<sec:authentication property="principal.usersVO" var="usersVO" />
</sec:authorize>
<!-- SELECT  U.USER_NO, U.USER_MAIL, USER_PSWD, A.AUTH_NM -->
<!-- ${usersVO} -->
<!-- 본문 영역 -->

<div class="media-container container-fruid px-6" style="height:1000px;">
 <div class="row py-4" style="height:100%;">
	<div class="col col-md-9">
		 <c:choose>
       	 <%-- 유튜브 영상인 경우 --%>
        <c:when test="${mediaPostVO.mediaMebershipYn eq 'N'}">
          <iframe 
            width="100%" 
            height="70%" 
            src="https://www.youtube.com/embed/${mediaPostVO.mediaVideoUrl}?si=EXH1kqCMF0PLhEeh" 
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            referrerpolicy="strict-origin-when-cross-origin" 
            allowfullscreen>
          </iframe>
        </c:when>
       	 <%-- 로컬 동영상 파일인 경우 --%>
        <c:otherwise>
          <video width="100%" height="70%" controls>
            <source src="/upload${mediaPostVO.mediaVideoUrl}" type="video/mp4">
            멤버쉽 영상 영역
          </video>
        </c:otherwise>
      </c:choose>
        <div style="height: 7%; display: flex; align-items: self-end;">
        	<h2 class="fw-bold" style="color:white;">${mediaPostVO.mediaPostTitle}</h2>
        </div>
		<div class="border-bottom" style="border-bottom-width:3px !important; height: 7%;display: flex; align-items: center;">
			<img src="/upload${mediaPostVO.fileLogoSaveLocate}" alt="아티스트 프로필" class="rounded-circle me-3" style="width: 50px; height: 50px; display: inline-block;">
			<div class="col col-md-12">
				<h4 class="fw-bold" style="color:white;">${mediaPostVO.artistGroupVO.artGroupNm}</h4>
				<span style="color:white;"><fmt:formatDate value="${mediaPostVO.mediaRegDt}" pattern="yyyy.MM.dd"/></span>
			</div>
		</div>
		<div style="height: 15%; padding-top: 20px">
			<pre class="text-wrap" style="color:white; white-space: pre-wrap;">${mediaPostVO.mediaPostCn}${uVO}</pre>
		</div>
	</div>
	
	<!-- 댓글 창 영역 -->
<div class="comment-container col col-3 flex">
    <!-- 댓글 헤더 영역 -->
    <div class="comment-header row row-1 fw-bold">
        <div class="comment-count col col-12">
            <span>15Comments</span>
            <button class="comment-reset"><i class="fa-solid fa-rotate"></i></button>
        </div>
    </div>
    
    <!-- 댓글 본문 영역 -->
    <div class="comment-body row row-md-10">
        <!-- 댓글 정보 영역 -->
        <div class="comment-info d-flex align-items-center row">
            <div class="col-2">
                <img class="comment-profile-img rounded-circle" src="resources/static/images/P1237.jpg" alt="">
            </div>
            <div class="col-8">
                <div class="comment-prfile-info">
                    <span class="comment-nickname fw-bold">프로필닉네임</span>
                    <span class="comment-regdate">댓글 등록일</span>
                </div>
            </div>
            <!-- 드롭다운 케밥아이콘 버튼 -->
            <div class="col-2 d-flex justify-content-end">
                <div class="comment-dropdown d-flex justify-content-end">
                    <button class="btn btn-link" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-three-dots-vertical"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <!-- 본인 댓글이면 수정 삭제 되어야 함 -->
                        <li><a class="dropdown-item" href="#">🔔 신고하기</a></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- 댓글 내용 영역 -->
        <div class="row comment-content-container">
            <div class="col comment-content">
                <div class="text-wrap text-break">본문 댓글 영역</div>
            </div>
        </div>
    </div>
    
    <!-- 댓글 입력 영역 -->
    <div class="comment-footer row-md-1 d-flex">
        <input type="text" class="form-control comment-input" placeholder="댓글을 입력하세요.">
        <button class="btn text-white ms-1" style="padding: 0%;">
            <i class="bi bi-arrow-up-circle" style="font-size: x-large;"></i>
        </button>
    </div>
    </div>
  </div>
</div>

<!-- 본문 영역 끝 -->
<!-- Scroll Top -->
	<a href="#" id="scroll-top"
		class="scroll-top d-flex align-items-center justify-content-center active">
		<i class="bi bi-arrow-up-short"></i>
	</a>
	<!-- 	<i class="bi bi-arrow-up-short"></i> -->
<script src="/main/assets/js/main.js"></script>
<%@ include file="../footer.jsp" %>
</body>
</html>