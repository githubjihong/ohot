<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="/shop/main.css" />
<title>Insert title here</title>
<style>

/* 캐러셀의 고정 높이 설정 */
.carousel-item {
	height: 300px; /* 캐러셀 높이를 500px로 설정 */
	position: relative;
}

.carousel-inner img {
/* 	width: 15%; */
	max-height: 250px;
	margin: 10px 20px 10px 300px;
	border-radius: 30px !important;
/* 	border: 2px solid red; */
}

/* 아티스트 그룹 제목 스타일 */
.artist-group-header {
	display: flex;
	align-items: center;
}

/* 컬러 바 (제목 왼쪽 강조선) */
.group-title-bar {
	width: 6px;
	height: 24px;
	background-color: #ff4d4f; /* Weverse 스타일의 강한 포인트 컬러 */
	border-radius: 4px;
	margin-right: 10px;
}

/* 아티스트 그룹명 */
.artist-groupName {
	font-size: 1.75rem;
	font-weight: bold;
	color: #333;
}

/* 카드 컨테이너 */
.artist-group-container {
	background-color: #f5f5f5; /* 연한 회색 배경 */
	border-radius: 12px; /* 둥근 모서리 */
	padding: 2rem; /* 내부 여백 */
	margin-bottom: 3rem; /* 그룹 간격 */
}

.goods-card {
	width: 14rem;
	border-radius: 12px; /* 카드 둥글게 */
	box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); /* 그림자 추가 */
	overflow: hidden; /* 내부 요소가 넘치지 않게 */
}

/* 카드 이미지 */
.goods-card .card-img-top {
	height: 180px; /* 이미지 높이 고정 */
	object-fit: cover; /* 이미지 비율 유지하면서 채우기 */
}

/* 카드 제목 */
.goods-card .card-title {
/* 	font-weight: bold; */
	font-size: 1.1rem;
}

/* 카드 가격 */
.goods-card .card-text {
/* 	color: #d9534f; */
	font-weight: bold;
}
</style>

</head>
<body style="background-color: #FFFF;">
	<%@ include file="../shopHeader.jsp" %>
	
	<!-- banner 영역 -->
	<div id="banner" class="carousel slide" data-bs-ride="carousel">
	  <div class="carousel-indicators">
	    <button type="button" data-bs-target="#banner" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
		<button type="button" data-bs-target="#banner" data-bs-slide-to="1" aria-label="Slide 2"></button>
	  </div>
	  
	  <div class="carousel-inner">
	    <div class="carousel-item active">
	      <div class="row" style="background: yellow;">
	        <!-- 하나의 col 안에 이미지 + 텍스트 정렬 -->
	        <div class="col-12 d-flex align-items-center">
	          <!-- 왼쪽: 이미지 -->
	          <img src="/images/banner2.png" class="img-fluid" alt="banner image" />
	          <!-- 오른쪽: 텍스트 -->
	          <div>
	            <h2 class="fw-bold">LE SSERAFIM 5th Mini Album [HOT]</h2>
	            <p>2nd Round of LUCKY DRAW Event</p>
	          </div>
	        </div>
	      </div>
	    </div>
	    <div class="carousel-item">
	      <div class="row" style="background: yellow;">
	        <!-- 하나의 col 안에 이미지 + 텍스트 정렬 -->
	        <div class="col-12 d-flex align-items-center">
	          <!-- 왼쪽: 이미지 -->
	          <img src="/images/banner2.png" class="img-fluid" alt="banner image" />
	          <!-- 오른쪽: 텍스트 -->
	          <div>
	            <h2 class="fw-bold">2222</h2>
	            <p>222</p>
	          </div>
	        </div>
	      </div>
	    </div>
	  </div>
	  
	  <!-- pre Button -->
	  <button class="carousel-control-prev" type="button" data-bs-target="#banner" data-bs-slide="prev">
	    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Previous</span>
	  </button>
	  <button class="carousel-control-next" type="button" data-bs-target="#banner" data-bs-slide="next">
		<span class="carousel-control-next-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Next</span>
	  </button>
	</div>
  	
  	<p><p><p>
  	
  	<!-- My Artist -->
  	<!-- row: 수평 정렬 -->
  	<div class="row d-flex justify-content-center">
  	  <div class="col-8 rounded-shadow">
  	    <div class="artist-title">${title}
  		  <div class="card-group">
  		    <c:forEach var="communityProfileVO" items="${communityProfileVOList}" varStatus="stat">
  			  <!-- 수평 배치 div -->
  			    <div class="d-flex justify-content-start">
		  		  <div class="card artist-card">
		    	    <img src="/upload${communityProfileVO.artistGroupVO.fileGroupVO.fileDetailVOList[0].fileSaveLocate}" 
		    		  class="w-100 h-100 artist-avatar" alt="${communityProfileVO.artistGroupVO.fileGroupVO.fileDetailVOList[0].fileOriginalName}"/>
		  			<div class="card-body text-center p-1" >
					  <span>${communityProfileVO.artistGroupVO.artGroupNm}</span>	  					
		  			</div>
		  		  </div>
	  		    </div>
  			</c:forEach>
  		  </div>
  	    </div>
  	  </div>
  	</div>			
  	
  	<p><p><p>
  	
  	<div class="d-flex justify-content-center">
	  <div class="col-8">
	    <div class="card rounded-shadow shadow-lg">
	      <!-- 🔹 카드 헤더 (탭 버튼 포함) -->
	      <div class="card-header p-0">
	        <ul class="nav nav-tabs d-flex w-100" id="myTab" role="tablist">
	          <li class="nav-item flex-fill text-center" role="presentation">
	            <button class="nav-link w-100 active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home"
	                    type="button" role="tab" aria-controls="home" aria-selected="true">
	              굿즈샵
	            </button>
	          </li>
	          <li class="nav-item flex-fill text-center" role="presentation">
	            <button class="nav-link w-100" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile"
	                    type="button" role="tab" aria-controls="profile" aria-selected="false">
	              공연/예매티켓
	            </button>
	          </li>
	        </ul>
	      </div>
	
	      <!-- 카드 바디 (탭 콘텐츠 포함) -->
	      <div class="card-body">
	        <div class="tab-content" id="myTabContent">
	          <!-- 굿즈샵 탭 -->
	          <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
	            <!-- 아티스트 그룹 컨테이너 (배경 포함) -->
	            <c:forEach var="artistGroupVO" items="${artistGroupVOList}" varStatus="stat">
	              <div class="artist-group-container p-4">
	                <!-- 아티스트 그룹 제목 -->
	                <div class="artist-group-header">
	                  <span class="group-title-bar"></span>
	                  <h3 class="artist-groupName">${artistGroupVO.artGroupNm}</h3>
	                </div>
					
					<!-- 굿즈 카드 컨테이너 -->
	                <div class="d-flex flex-wrap gap-2">
	                  <c:forEach var="goodsVO" items="${artistGroupVO.goodsVOList}" varStatus="stat">
	                    <div class="card goods-card">
	                      <c:choose>
	                        <c:when test="${ not empty goodsVO.fileGroupVO.fileDetailVOList[0].fileSaveLocate}">
	                          <a href="/shop/artistGroup/${artistGroupVO.artGroupNo}/detail/${goodsVO.gdsNo}">
	                            <img class="card-img-top" src="/upload/${goodsVO.fileGroupVO.fileDetailVOList[0].fileSaveLocate}" alt="Card image cap">
	                          </a>
	                        </c:when>
	                        <c:otherwise>
	                          <a href="/shop/artistGroup/${artistGroupVO.artGroupNo}/detail/${goodsVO.gdsNo}">
	                            <img class="card-img-top" src="/images/noImage.png" alt="Card image cap">
	                          </a>
	                        </c:otherwise>
	                      </c:choose>
	                      <div class="card-body">
	                        <h5 class="card-title">${goodsVO.gdsNm}</h5>
	                        <p class="card-text">₩ <fmt:formatNumber value="${goodsVO.unitPrice}" pattern="#,###" /></p>
	                      </div>
	                    </div>
	                  </c:forEach>
	                </div>
	              </div>
	            </c:forEach>
	          </div>
			  
	          <!-- 공연/예매/티켓 탭 -->
	          <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
	           <%@ include file="ticketList.jsp" %>
	          </div>
	        </div>
	      </div> <!-- 카드 바디 끝 -->
	    </div> <!-- 카드 끝 -->
	  </div>
	</div>
	<p><p><p>
  	<%@ include file="../footer.jsp" %>
</body>
</html>