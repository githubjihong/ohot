<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript">
	function changeRound(tkDetailNo){
		console.log(tkDetailNo);
		window.location.href = "seat?tkNo=${tkDetailVOList[0].tkNo}&tkDetailNo="+tkDetailNo;
		
	}
</script>
<title>Insert title here</title>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	
	<!-- /// 내용 시작 /// -->
	<div class="container-sm">
		<div style="display: flex; flex-direction: column; height: 100vh; border: 2px solid #ccc;">
			<!-- 헤더 영역 -->
			<div style="display: flex; border: 2px solid #ccc;">
				<div style=" padding: 20px;  width: 20%; margin: 20px; ">좌석선택</div>
				<div>
					<h4>${tkDetailVOList[0].gdsNm } | ${seatVO[0].tkLctn }</h4>
					<select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" onchange="changeRound(this.value)" >
					
					  <option selected>다른 회차 선택하기</option>
					  <c:forEach var="tkDetailVO" items="${tkDetailVOList}">
						  <option value="${tkDetailVO.tkDetailNo}" >${tkDetailVO.tkYmd} / ${tkDetailVO.tkRound }회차</option>
					  </c:forEach>
					</select>
				</div>
			</div>
			${seatVO }
			${tkDetailVOList }
<%-- 
			<!-- 본문 영역 -->
			<div style="display: flex; flex: 1; padding: 10px;">
				<div style="flex: 3; text-align: center; padding: 50px; ">
					<table border="0">
				        <c:set var="currentRow" value="-1" />
				        <c:set var="currentSection" value="" />
				        
				        <c:forEach var="seat" items="${seatVOList}">
				            <c:if test="${currentRow != seat.seatRow}">
				                <c:if test="${currentRow != -1}"></tr></c:if>
				                <tr>
				                <c:set var="currentRow" value="${seat.seatRow}" />
				                <c:set var="currentSection" value="" />
				            </c:if>
				
				            <!-- 구역이 변경될 경우 한 칸 띄우기 -->
				            <c:if test="${currentSection != '' and currentSection != seat.seatSection}">
				                <td class="spacer"></td>
				            </c:if>
				            <c:set var="currentSection" value="${seat.seatSection}" />
				
				            <!-- 좌석 등급에 따른 색상 변경 -->
				            <c:set var="seatClass" value="available" />
				            <c:if test="${seat.seatGrade == 1}">
				                <c:set var="seatClass" value="reserved" />
				            </c:if>
				
				            <td class="${seatClass}" style="text-align: center">■</td>
				        </c:forEach>
				        </tr>
				    </table>
				</div>
				<div style="flex: 1; display: flex; flex-direction: column; gap: 10px; padding-left: 10px;">
					<div style=" text-align: center; padding: 30px;">d</div>
					<div style=" text-align: center; padding: 30px;">e</div>
					<div style=" text-align: center; padding: 30px;">f</div>
				</div>
			</div>
		</div>

 --%>
		<!-- /// 버튼 영역 시작 /// -->
		<div class="row text-center">
			<div class="col-sm-offset-2 col-sm-10">
			
			</div>
		</div>
		<!-- /// 버튼 영역 끝 /// -->
		
	</div>
	<!-- /// 내용 끝 /// -->
</body>
</html>