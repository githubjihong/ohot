<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags" %>
<!DOCTYPE html>
<html>

<head>
	<title>Login V1</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/png" href="/login/images/icons/favicon.ico">
	<link rel="stylesheet" type="text/css" href="/login/vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/login/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="/login/vendor/animate/animate.css">
	<link rel="stylesheet" type="text/css" href="/login/vendor/css-hamburgers/hamburgers.min.css">
	<link rel="stylesheet" type="text/css" href="/login/vendor/select2/select2.min.css">
	<link rel="stylesheet" type="text/css" href="/login/css/util.css">
	<link rel="stylesheet" type="text/css" href="/login/css/main.css">
</head>
<body>
<!-- header.jsp 시작 -->
<%@ include file="header.jsp" %>
url 보세요 ${param.redirectURL}
<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<div class="login100-pic js-tilt" data-tilt="" style="will-change: transform; transform: perspective(300px) rotateX(0deg) rotateY(0deg);">
					<img src="/images/banner1.png" alt="IMG">
				</div>

				<form class="login100-form validate-form" action="/login" method="post">
					<input type="hidden" name="redirectURL" value="${param.redirectURL}" /> <!-- 리다이렉트 URL을 hidden으로 보냄 -->
					<span class="login100-form-title">
						oHoT Login
					</span>
					
					<div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
						<input class="input100" type="text" name="username" placeholder="Email">
						<span class="focus-input100"></span>
						<span class="symbol-input100">
							<i class="fa fa-envelope" aria-hidden="true"></i>
						</span>
					</div>

					<div class="wrap-input100 validate-input" data-validate="Password is required">
						<input class="input100" type="password" name="password" placeholder="Password">
						<span class="focus-input100"></span>
						<span class="symbol-input100">
							<i class="fa fa-lock" aria-hidden="true"></i>
						</span>
					</div>
					
					<div class="container-login100-form-btn">
						<button class="login100-form-btn">
							Login
						</button>
					</div>

					<div class="text-center p-t-12">
						<span class="txt1">
							Forgot
						</span>
						<a class="txt2" href="#">
							Password?
						</a>
					</div>

					<div class="text-center p-t-136">
						<a class="txt2" href="#">
							Create your Account
							<i class="fa fa-long-arrow-right m-l-5" aria-hidden="true"></i>
						</a>
					</div>
				</form>
			</div>
		</div>
	</div>

<!-- ------------ -->
<!--  <div class="container" style="height : 70vh"> -->
<!-- 	<div class="col-6 mx-auto login-box"> -->
<!-- 		<form class="form-control" action="/login" method="post"> -->
<!-- 			<label for="username" class="form-label">이메일</label> -->
<!-- 			<input type="text" name="username" id="username" class="form-control"> -->
<!-- 			<label for="password" class="form-label">비밀번호</label> -->
<!-- 			<input type="password" name="password" id="password" class="form-control"> -->
<!-- 			<br> -->
<!-- 			<input type="checkbox" name="remember-me" /> 이메일 저장 -->
<!-- 			<div class="d-grid"> -->
<!-- 				<button class="btn btn-primary btn-block my-3">로그인</button> -->
<!-- 			</div> -->
			
<!-- 			<div>간편로그인</div> -->
<!-- 		</form> -->
<!-- 	</div> -->
<!-- </div> -->
  
  
  
    <!--  post에 /login은  Spring Security가 자동으로 처리해 준다.
     -->
<!--     <form action="/login" method='POST'> -->
<!--         <table> -->
<!--             <tr> -->
<!--                 <td>이메일:</td> -->
<!--                 <td><input type='text' name='username' value=''></td> -->
<!--             </tr> -->
<!--             <tr> -->
<!--                 <td>비밀번호:</td> -->
<!--                 <td><input type='password' name='password' /></td> -->
<!--             </tr> -->
<!--             <tr> -->
<!--                 <td>이메일 기억하기:</td> -->
<!--                 <td><input type="checkbox" name="remember-me" /></td> -->
<!--             </tr> -->
<!--             <tr> -->
<!--                 <td><input name="submit" type="submit" value="submit" /></td> -->
<!--             </tr> -->
<!--         </table> -->
<!--     </form> -->
	<script>
		// AJAX 사용시 csrf 토큰 생성은 꼭 이렇게 할 필요는 없음
		const csrfParameter = $("meta[name='_csrf_parameter']").attr("content");
		const csrfHeader = $("meta[name='_csrf_header']").attr("content");
		const csrfToken = $("meta[name='_csrf']").attr("content");
 
		//서버에서 발행된 헤더네임, 토큰값 저장
		const header = '${_csrf.headerName}';
		const token = '${_csrf.token}';
		console.log("체크 : ",header, token);
		
		
		/*
		// Ajax 요청에 CSRF 헤더 넣는 예시
			$.ajax({
			  url: "/example",
			  type: "POST",
			  data: { name: "chatgpt" },
			  beforeSend: function(xhr) {
			    xhr.setRequestHeader(csrfHeader, csrfToken);
			  },
			  success: function(response) {
			    console.log("Success:", response);
			  }
			});
		*/
	</script>
<%@ include file="footer.jsp" %>
<script src="/login/vendor/jquery/jquery-3.2.1.min.js"></script>
<script src="/login/vendor/bootstrap/js/popper.js"></script>
<script src="/login/vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="/login/vendor/select2/select2.min.js"></script>
<script src="/login/vendor/tilt/tilt.jquery.min.js"></script>
<script>
		$('.js-tilt').tilt({
			scale: 1.1
		})
</script>
<script src="/login/js/main.js"></script>
</body>
</html>